<div class="col-md-12 float-left mt-5 pt-4">
    <app-loader [show]="showLoader"></app-loader>
    <app-filter-chip-list></app-filter-chip-list>
    <h3 class="mt-2 mb-2 float-left col-4 pt-3" style="font-size: 22px;color:#29a84a">Brand Snapshot</h3>
    <app-chart-container [chart]="unaided" [updateData]="onDataUpdate"></app-chart-container>
    <app-chart-container [chart]="totalBrand" [updateData]="onDataUpdate"></app-chart-container>
    <app-chart-container [chart]="advertising" [updateData]="onDataUpdate"></app-chart-container>
    <app-chart-container [chart]="touchpointRecall" [updateData]="onDataUpdate"></app-chart-container>
    <app-chart-container [chart]="brandImagery" [updateData]="onDataUpdate"></app-chart-container>
    <div class="float-left col-8 overflow pl-0 pr-1">
        <div style="color:#29a84a" class="font-sm float-left">Select your brand</div>
        <div class="text-right float-right" hidden> <i class="fa fa-caret-up text-success mr-1 fa-2x"></i>/ <i
                class="fa-2x fa fa-caret-down text-danger mr-2"></i><span class="font-sm">Significant @ 95% level</span>
        </div>
        <div class="clearfix"></div>
        <table class="w-100 brandList mb-3 clickable" style="border-collapse: inherit">
            <tr>
                <td id="Delta" (click)="toggle($event,'Delta',1)" class="icon selected">
                    <div class="box">
                        <img src="../../../assets/images/BrandIcons/Delta_logo_400x136.png" />
                        <i class="fa fa-check"></i>
                    </div>
                </td>
                <td id="Moen" (click)="toggle($event,'Moen',4)" class="icon">
                    <div class="box"><img src="../../../assets/images/BrandIcons/Moen_logo_sm.png" />
                        <i class="fa fa-check"></i></div>
                </td>
                <td id="Kohler" (click)="toggle($event,'Kohler',3)" class="icon">
                    <div class="box"><img src="../../../assets/images/BrandIcons/Kohler_logo_sm.png" />
                        <i class="fa fa-check"></i></div>
                </td>
                <td id="Peerless" (click)="toggle($event,'Peerless',5)" class="icon">
                    <div class="box"><img src="../../../assets/images/BrandIcons/Peerless_logo_white_280x90.png" />
                        <i class="fa fa-check"></i></div>
                </td>
                <td id="American" (click)="toggle($event,'American',2)" class="icon">
                    <div class="box"><img src="../../../assets/images/BrandIcons/American_Standard_logo_300x128.png" />
                        <i class="fa fa-check"></i></div>
                </td>
                <td id="Pfister" (click)="toggle($event,'Pfister',6)" class="icon">
                    <div class="box"><img src="../../../assets/images/BrandIcons/Pfister_logo_sm.png" />
                        <i class="fa fa-check"></i></div>
                </td>
                <td id="Waterpik" (click)="toggle($event,'Waterpik',23)" class="icon">
                    <div class="box"><img src="../../../assets/images/BrandIcons/Waterpik_logo_765x244.png" />
                        <i class="fa fa-check"></i></div>
                </td>
            </tr>
        </table>
    </div>
    <div class="clearfix"></div>
    <div class="col-4 float-left border-right p-1 pl-3">
        <div class="col-md-12 float-left p-1 border-top-0 border-bottom-0">
            <div class="card" style="margin-bottom: 0;">
                <div class="card-header green font-weight-bold pt-0 pos-rel">AWARENESS METRICS (%)<i class="font-xs ml-2 text-dark">Base: Total</i>
                    <div class="titleOnHover"><b>Unaided Brand</b> : SBAW,  <b>Total Brand</b> : SBAW/ABAW,  <b>Advertising</b> : AAAW </div>
                    <div class="float-right">
                        <img src="../../../assets/images/excel.png" title="Download Excel" (click)="downloadAwarenessCSV()"  class="mr-2 clickable"
                            style="height:20px;" />
                        <!-- <img src="../../../assets/images/ppt.png" title="Download PPT" class="clickable"
                            style="height:20px;" /> -->
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="card-body p-1" style=" padding-bottom: 0;">
                    <table class="w-100 table table-bordered">
                        <tr>
                            <td>
                                {{unaided.Name}}
                            </td>
                            <td class="pos-rel base" style="width:50%;">
                                    <div class="bar-bg pos-rel">  
                                <div class="bar-width" [style.width.%]="unaidedScore"></div>
                                <div class="bar-score">{{unaidedScore}}</div>
                                    <div class="baseCount">Base: {{unaidedBases}}</div>    
                                    <!-- [ngStyle]="{'left':unaidedScore > 25 ? '10px' : unaidedScore+5+'%' ,'color':unaidedScore > 25 ? 'white' : 'black'}" -->
                                <!-- <i class="fa fa-caret-down text-danger fa-2x"></i>
                                <i class="fa fa-caret-up text-success fa-2x"></i> -->
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                {{totalBrand.Name}}
                            </td>
                            <td class="pos-rel base">
                                <div class="bar-bg pos-rel">
                                    <div class="bar-width" [style.width.%]="Totalscore"></div>
                                    <div class="bar-score">{{Totalscore}}</div>
                                    <div class="baseCount">Base: {{TotalBases}}</div>
                                    <!-- [ngStyle]="{'left':Totalscore > 25 ? '10px' : Totalscore+5+'%' ,'color':Totalscore > 25 ? 'white' : 'black'}" -->
                                    <!-- <i class="fa fa-caret-down text-danger fa-2x"></i>
                                <i class="fa fa-caret-up text-success fa-2x"></i> -->
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td style="width:50%">
                                {{advertising.Name}}
                            </td>
                            <td class="pos-rel base">
                                <div class="bar-bg pos-rel">
                                    <div class="bar-width" [style.width.%]="advertisingscore"></div>
                                    <div class="bar-score">{{advertisingscore}}</div>
                                    <div class="baseCount">Base: {{advertisingBases}}</div>
                                    <!-- [ngStyle]="{'left':advertisingscore > 25 ? '10px' : advertisingscore+5+'%' ,'color':advertisingscore > 25 ? 'white' : 'black'}" -->
                                    <!-- <i class="fa fa-caret-down text-danger fa-2x"></i>
                                <i class="fa fa-caret-up text-success fa-2x"></i> -->
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

        </div>
        <div class="col-md-12 float-left p-1 border-0">
            <div class="card">
                <div class="card-header green font-weight-bold pos-rel">CONSUMER BRAND RELATIONSHIPS (%)<i
                        class="font-xs ml-2 text-dark">Base: Total</i>
                    <div class="titleOnHover"><b>Consumer Brand Relationships</b> : CBR </div>
                    <div class="float-right">
                        <img src="../../../assets/images/excel.png" title="Download Excel" (click)="downloadCBRCSV()" class="mr-2 clickable"
                            style="height:20px;" />
                        <!-- <img src="../../../assets/images/ppt.png" title="Download PPT" class="clickable"
                            style="height:20px;" /> -->
                    </div>
                    <div class="clearfix"></div>
                </div>

                <div class="card-body p-1 base">
                    <div class="baseCount">Base: {{consumerRelationBase}}</div>
                    <app-chart-container [chart]="cosnsumerBrandRelation" [updateData]="onDataUpdate"></app-chart-container>
                </div>
                <div class="card-body pt-4 pb-0">
                    <div>
                        <div class="col-4 float-left">
                            <div style="background-color: #A2AD00" class="legend-box float-left mr-2"></div>
                            <span>Strong</span>
                        </div>
                        <div class="col-4 float-left">
                            <div style="background-color: #0070C0" class="legend-box float-left mr-2"></div>
                            <span>Weak</span>
                        </div>
                        <div class="col-4 float-left">
                            <div style="background-color: #9B1F23" class="legend-box float-left mr-2"></div>
                            <span>At Risk</span>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="col-8 float-left p-1">
        <div class="col-6 float-left p-1 border-0">
            <!-- work in progress -->
            <div class="card">
                <div class="card-header green pt-0 font-weight-bold pos-rel">TOUCHPOINT RECALL (%)<i
                        class="font-xs ml-2 text-dark">Base: Aware of brand</i>
                    <div class="titleOnHover"><b>Touchpoint Recall</b> : XP1 </div>
                    <div class="float-right">
                        <img src="../../../assets/images/excel.png" title="Download Excel" (click)="downloadTouchpointCSV()" class="mr-2 clickable"
                            style="height:20px;" />
                        <!-- <img src="../../../assets/images/ppt.png" title="Download PPT" class="clickable"
                            style="height:20px;" /> -->
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="card-body p-1" *ngIf="!touchcheck">
                    <table class="w-100 table table-bordered">                       
                        <tr *ngFor="let row of touchpointData; let i = index">
                            <td class="text-right">
                                {{row.SeriesName}}
                            </td>
                            <td class="pos-rel base" style="width:40%;">
                                <div class="bar-bg pos-rel">
                                    <div class="bar-width" [style.width.%]="touchpointScore[i]"></div>
                                    <div class="bar-score">{{touchpointScore[i]}}</div>
                                    <div class="baseCount">Base: {{touchpointBases[i]}}</div>
                                    <!-- [ngStyle]="{'left':touchpointScore[i] > 25 ? '10px' : touchpointScore[i]+5+'%' ,'color':touchpointScore[i] > 25 ? 'white' : 'black'}" -->
                                </div>
                            </td>
                        </tr>

                    </table>
                </div>
                <div class="alert alert-info font-sm text-center" *ngIf="touchcheck">No Data
                    Available</div>
            </div>

        </div>
        <div class="col-6 float-left p-1 border-left pl-2">
            <div class="card">
                <div class="card-header green pt-0 font-weight-bold pos-rel">BRAND IMAGERY (%)<i
                        class="font-xs ml-2 text-dark">Base: Aware of brand</i>
                    <div class="titleOnHover"><b>Brand Imagery</b> : BRIA </div>
                    <div class="float-right">
                        <img src="../../../assets/images/excel.png" title="Download Excel" (click)="downloadBrandImageryCSV()"  class="mr-2 clickable"
                            style="height:20px;" />
                        <!-- <img src="../../../assets/images/ppt.png" title="Download PPT" class="clickable"
                            style="height:20px;" /> -->
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="card-body p-1">
                        <div class="text-success">Drivers</div>
                    <table class="w-100 table table-bordered">                       
                        <tr *ngFor="let row of ImageryData1; let i = index">
                            <td class="text-center" [style.color]="getBgColor(row.KDA)" style="width:60px;">
                                {{row.KDA}}
                            </td>
                            <td class="text-right">
                                {{row.sereiesname}}
                            </td>
                            <td class="pos-rel base" style="width:40%;">
                                <div class="bar-bg pos-rel">
                                    <div class="bar-width" [style.width.%]="row.score"></div>
                                    <div class="bar-score">{{row.score}}</div>
                                    <div class="baseCount">Base: {{brandImageryBases[i]}}</div>
                                    <!-- [ngStyle]="{'left':row.score > 25 ? '10px' : row.score+5+'%' ,'color':row.score > 25 ? 'white' : 'black'}" -->
                                </div>

                            </td>
                        </tr>
                    </table>
                    <div class="alert alert-info font-sm text-center" *ngIf="brandimaginarycheck">No Data
                        Available</div>
                </div>

            </div>
        </div>
    </div>
    <div class="clearfix"></div>
</div>